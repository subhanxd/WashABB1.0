<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Water Sales - Wash Abb</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon" />

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.4.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <link rel="stylesheet" href="css/styles.css" />

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js" defer></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js" defer></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js" defer></script>

  <script src="js/firebase.js" defer></script>

  <style>
    /* Subtle focus outline for accessibility */
    input:focus,
    button:focus {
      outline: 3px solid #0d6efd;
      outline-offset: 2px;
      box-shadow: 0 0 5px #0d6efd99;
    }
  </style>
</head>
<body>
  <main class="container mt-5 mb-5" role="main">
    <h1 class="text-center mb-4 fw-bold text-primary">Wash Abb - Water Management System</h1>

    <!-- Phone and OTP Section -->
    <section aria-labelledby="phone-section-title" class="mb-5">
      <h2 id="phone-section-title" class="h4 mb-3">User Authentication</h2>

      <label for="phone" class="form-label fw-semibold">Phone Number</label>
      <input
        type="tel"
        id="phone"
        class="form-control mb-3"
        placeholder="+92XXXXXXXXXX"
        autocomplete="tel"
        inputmode="tel"
        required
      />

      <div id="recaptcha-container" class="mb-3"></div>

      <button
        type="button"
        class="btn btn-primary w-100 mb-4"
        onclick="sendOTP()"
        aria-live="polite"
      >
        Send OTP
      </button>

      <label for="otp" class="form-label fw-semibold">Enter OTP</label>
      <input
        type="text"
        id="otp"
        class="form-control mb-3"
        placeholder="Enter OTP"
        inputmode="numeric"
        autocomplete="one-time-code"
        required
      />
      <button type="button" class="btn btn-success w-100" onclick="verifyOTP()">Verify</button>
    </section>

    <!-- Order Section -->
    <section
      id="order-section"
      style="display:none;"
      aria-live="polite"
      aria-label="Place Water Order"
    >
      <h2 class="text-center mb-4 fw-bold text-secondary">Place Water Order</h2>

      <div class="mb-3">
        <label for="qty-250ml" class="form-label">250 ml Bottle Quantity</label>
        <input
          type="number"
          id="qty-250ml"
          min="0"
          value="0"
          class="form-control"
          inputmode="numeric"
        />
      </div>

      <div class="mb-3">
        <label for="qty-1liter" class="form-label">1 Liter Bottle Quantity</label>
        <input
          type="number"
          id="qty-1liter"
          min="0"
          value="0"
          class="form-control"
          inputmode="numeric"
        />
      </div>

      <div class="mb-3">
        <label for="qty-18liter" class="form-label">19 Liter Gallon Quantity</label>
        <input
          type="number"
          id="qty-18liter"
          min="0"
          value="0"
          class="form-control"
          inputmode="numeric"
        />
      </div>

      <div class="mb-3">
        <label for="qty-refill-18liter" class="form-label">19 Liter Gallon Refill Quantity</label>
        <input
          type="number"
          id="qty-refill-18liter"
          min="0"
          value="0"
          class="form-control"
          inputmode="numeric"
        />
      </div>

      <p class="text-center text-warning fs-5 fw-bold">
        Total Price: Rs <span id="total-price">0</span>
      </p>

      <button
        type="button"
        class="btn btn-primary w-100 mb-3"
        onclick="placeOrder()"
        aria-label="Submit your water order"
      >
        Submit
      </button>

      <div class="text-center">
        <a href="orders.html" class="btn btn-outline-info px-4" role="button" aria-label="View my orders">My Orders</a>
      </div>
    </section>

    <footer class="text-center mt-5 mb-3 text-muted" role="contentinfo">
      <p>Developed by <strong>subhanxd</strong></p>
    </footer>
  </main>

  <script src="js/auth.js" defer></script>
  <script src="js/app.js" defer></script>




  <!-- Add this anywhere inside the body -->
<div style="position: fixed; top: 20px; right: 20px; z-index: 1000;">
  <button id="adminAccessBtn" title="Admin Login" style="
    background: transparent;
    border: none;
    cursor: pointer;
    font-size: 28px;
    color: #0275d8;
  ">
    ðŸ”’
  </button>
</div>

<script>
  document.getElementById('adminAccessBtn').addEventListener('click', () => {
    const username = prompt("Enter Admin Username:");
    if (username !== "subhan9091") {
      alert("Incorrect username!");
      return;
    }
    const password = prompt("Enter Admin Password:");
    if (password !== "holaxd12") {
      alert("Incorrect password!");
      return;
    }
    // If both correct, redirect to admin.html
    window.location.href = "admin.html";
  });
</script>

</body>
</html>
